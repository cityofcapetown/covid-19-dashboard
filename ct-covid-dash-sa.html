<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>City of Cape Town Covid-19 Dashboard</title>

    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/ct-covid-dash.css">
</head>

<body>

<video id="backgroundVideo" autoplay="autoplay" muted="muted" loop="loop">
    <source src="assets/imgs/ct_timelapse.mp4" type="video/mp4">
</video>

<div id="navbarPlaceholder"></div>

<div class="container" id="overlay">
    <div class="row row-cols-1">
        <div class="col" id="disclaimer">
        </div>
    </div>

    <div class="row row-cols-4 mt-1">
        <div class="col">
            <div class="card border-light bg-info">
                <img src="assets/imgs/clock-regular.svg" class="card-img bg-info"
                     style="height:100px; opacity: 0.2;">
                <div class="card-img-overlay">
                    <h4 class="card-title" id="last_updated">Loading...</h4>
                    <p class="card-text">Last Updated</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card border-light bg-info">
                <img src="assets/imgs/notes-medical-solid.svg" class="card-img bg-info"
                     style="height:100px; opacity: 0.2;">
                <div class="card-img-overlay">
                    <h4 class="card-title" id="tests_conducted">Loading...</h4>
                    <p class="card-text">Tests Conducted</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card border-light bg-info">
                <img src="assets/imgs/ambulance-solid.svg" class="card-img bg-info"
                     style="height:100px; opacity: 0.2;">
                <div class="card-img-overlay">
                    <h4 class="card-title" id="confirmed_cases">Loading...</h4>
                    <p class="card-text ">Confirmed Cases</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card border-light bg-info">
                <img src="assets/imgs/skull-solid.svg" class="card-img bg-info"
                     style="height:100px; opacity: 0.2;">
                <div class="card-img-overlay">
                    <h4 class="card-title" id="deaths">Loading...</h4>
                    <p class="card-text ">Deaths</p>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid p-0" style="height:80vh">
        <div class="row mt-1 row-cols-3" style="height:49%">
            <div class="col h-100 pr-1" id="countryCasesPlot"></div>

            <div class="col h-100 pr-1 pl-1" id="countryCaseTrajectory"></div>

            <div class="col h-100 pl-1" id="modelCaseTrajectory"></div>
        </div>

        <div class="row mt-1 row-cols-2" style="height:49%">
            <div class="col h-100 pr-1" id="countryTestingPlot"></div>

            <div class="col h-100 pl-1" id="countryTransmissionTypePlot"></div>
        </div>
    </div>

    <div id="footerPlaceholder"></div>
</div>

<!-- bootstrap scripts -->
<script src="assets/js/jquery-3.4.1.min.js"></script>
<!-- custom code for dynamically updating data -->
<script src="assets/js/update_dash.js"></script>
<script>
    $(() => {
        $.ajaxSetup({ cache: false });
        addNavbar("navbarPlaceholder");
        updateSADashboard();
        addDisclaimerAlert("disclaimer");

        addCard("countryCasesPlot", "widgets/public/rsa_provincial_confirmed_timeseries.html", "<small>Cases by Province</small>");
        addTabbedCard("countryCaseTrajectory",
          [
            {tabId:"Log", iframeLink: "widgets/public/future_trajectory_log.html", titleString: "Log"},
            {tabId:"Linear", iframeLink: "widgets/public/future_trajectory.html", titleString: "Linear"},
          ],
          "<small>Case Trajectory by country</small>");
        addTabbedCard("modelCaseTrajectory",
          [
            {tabId:"Log", iframeLink: "widgets/public/future_deaths_trajectory_log.html", titleString: "Log"},
            {tabId:"Linear", iframeLink: "widgets/public/future_deaths_trajectory.html", titleString: "Linear"},
          ],
          "<small>Mortality by country</small>");
        addTabbedCard("countryTestingPlot",
          [
            {tabId:"Log", iframeLink: "widgets/public/rsa_tests_vs_cases_log.html", titleString: "Log"},
            {tabId:"Linear", iframeLink: "widgets/public/rsa_tests_vs_cases.html", titleString: "Linear"},
          ],
          "SA Tests vs Cases");
        addCard("countryTransmissionTypePlot", "widgets/public/rsa_transmission_type_timeseries.html", "Transmission Type");

        addFooter("footerPlaceholder")
    });

</script>

<script src="assets/js/popper.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>

</body>

</html>